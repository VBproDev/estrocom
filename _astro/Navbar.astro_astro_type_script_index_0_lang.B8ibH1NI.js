import{i as p,a as u}from"./cart.CgxxwyT8.js";p();const e=document.getElementById("cart-icon"),a=document.getElementById("cart"),o=document.querySelector(".cart-wrapper"),c=document.getElementById("cart-badge"),i=document.getElementById("empty-cart-message"),m=document.getElementById("checkout-btn"),n=document.getElementById("checkout-link");function y(t){c.textContent=t.toString(),e.setAttribute("aria-label",`Shopping cart, ${t} ${t===1?"item":"items"}`),t>0?c.classList.add("opacity-100","scale-100"):(c.classList.remove("opacity-100","scale-100"),e.setAttribute("aria-label","Shopping cart, empty"))}function r(){const s=document.getElementById("cart-items-container").querySelectorAll(".cart-item").length>0;i&&(s?i.classList.add("hidden"):i.classList.remove("hidden")),m&&(m.disabled=!s),n&&(s?(n.classList.remove("pointer-events-none"),n.removeAttribute("aria-disabled")):(n.classList.add("pointer-events-none"),n.setAttribute("aria-disabled","true")))}function b(){a.style.display="block",e.setAttribute("aria-expanded","true"),u(),r(),setTimeout(()=>{o.querySelector('button, a, input, [tabindex]:not([tabindex="-1"])')?.focus()},100)}function d(){a.style.display="none",e.setAttribute("aria-expanded","false"),e.focus()}e.addEventListener("click",t=>{t.stopPropagation(),a.style.display==="none"||!a.style.display?b():d()});a.addEventListener("click",t=>{o.contains(t.target)||d()});o.addEventListener("click",t=>{t.stopPropagation()});document.addEventListener("keydown",t=>{t.key==="Escape"&&a.style.display==="block"&&d()});window.addEventListener("cartUpdated",t=>{u(),r();const l=t.detail||{count:0};y(l.count||0)});r();
